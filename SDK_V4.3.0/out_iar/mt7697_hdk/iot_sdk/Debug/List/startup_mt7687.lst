###############################################################################
#                                                                             #
#     IAR Assembler V8.11.2.13589/W32 for ARM 28/Jun/2017  11:27:12           #
#     Copyright 1999-2017 IAR Systems AB.                                     #
#                                                                             #
#           Source file   =  C:\LEO\myGit\MTK-IOT\SDK_V4.3.0\project\mt7697_hdk\apps\iot_sdk\EWARM\startup_mt7687.s#
#           List file     =  C:\LEO\myGit\MTK-IOT\SDK_V4.3.0\out_iar\mt7697_hdk\iot_sdk\Debug\List\startup_mt7687.lst#
#           Object file   =  C:\LEO\myGit\MTK-IOT\SDK_V4.3.0\out_iar\mt7697_hdk\iot_sdk\Debug\Obj\startup_mt7687.o#
#           Command line  =  -f C:\Users\leo\AppData\Local\Temp\EW4430.tmp    #
#                            (C:\LEO\myGit\MTK-IOT\SDK_V4.3.0\project\mt7697_hdk\apps\iot_sdk\EWARM\startup_mt7687.s #
#                            -OC:\LEO\myGit\MTK-IOT\SDK_V4.3.0\out_iar\mt7697_hdk\iot_sdk\Debug\Obj #
#                            -s+ -M<> -w+ -r                                  #
#                            -LC:\LEO\myGit\MTK-IOT\SDK_V4.3.0\out_iar\mt7697_hdk\iot_sdk\Debug\List #
#                            -cO -i -t8 --cpu Cortex-M4 --fpu VFPv4_sp        #
#                            -IC:\LEO\myGit\MTK-IOT\SDK_V4.3.0\project\mt7697_hdk\apps\iot_sdk\EWARM\..\inc\) #
#                                                                             #
###############################################################################

    1                           ;/* Copyright Statement:
    2                           ; *
    3                           ; * (C) 2005-2016  MediaTek Inc. All rights
                                 reserved.
    4                           ; *
    5                           ; * This software/firmware and related
                                 documentation ("MediaTek Software") are
    6                           ; * protected under relevant copyright laws.
                                 The information contained herein
    7                           ; * is confidential and proprietary to
                                 MediaTek Inc. ("MediaTek") and/or its
                                 licensors.
    8                           ; * Without the prior written permission of
                                 MediaTek and/or its licensors,
    9                           ; * any reproduction, modification, use or
                                 disclosure of MediaTek Software,
   10                           ; * and information contained herein, in whole
                                 or in part, shall be strictly prohibited.
   11                           ; * You may only use, reproduce, modify, or
                                 distribute (as applicable) MediaTek Software
   12                           ; * if you have agreed to and been bound by
                                 the applicable license agreement with
   13                           ; * MediaTek ("License Agreement") and been
                                 granted explicit permission to do so
                                 within
   14                           ; * the License Agreement ("Permitted User"). 
                                 If you are not a Permitted User,
   15                           ; * please cease any access or use of MediaTek
                                 Software immediately.
   16                           ; * BY OPENING THIS FILE, RECEIVER HEREBY
                                 UNEQUIVOCALLY ACKNOWLEDGES AND AGREES
   17                           ; * THAT MEDIATEK SOFTWARE RECEIVED FROM
                                 MEDIATEK AND/OR ITS REPRESENTATIVES
   18                           ; * ARE PROVIDED TO RECEIVER ON AN "AS-IS"
                                 BASIS ONLY. MEDIATEK EXPRESSLY DISCLAIMS ANY
                                 AND ALL
   19                           ; * WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
                                 BUT NOT LIMITED TO THE IMPLIED WARRANTIES
                                 OF
   20                           ; * MERCHANTABILITY, FITNESS FOR A PARTICULAR
                                 PURPOSE OR NONINFRINGEMENT.
   21                           ; * NEITHER DOES MEDIATEK PROVIDE ANY WARRANTY
                                 WHATSOEVER WITH RESPECT TO THE
   22                           ; * SOFTWARE OF ANY THIRD PARTY WHICH MAY BE
                                 USED BY, INCORPORATED IN, OR
   23                           ; * SUPPLIED WITH MEDIATEK SOFTWARE, AND
                                 RECEIVER AGREES TO LOOK ONLY TO SUCH
   24                           ; * THIRD PARTY FOR ANY WARRANTY CLAIM
                                 RELATING THERETO. RECEIVER EXPRESSLY
                                 ACKNOWLEDGES
   25                           ; * THAT IT IS RECEIVER'S SOLE RESPONSIBILITY
                                 TO OBTAIN FROM ANY THIRD PARTY ALL PROPER
                                 LICENSES
   26                           ; * CONTAINED IN MEDIATEK SOFTWARE. MEDIATEK
                                 SHALL ALSO NOT BE RESPONSIBLE FOR ANY
                                 MEDIATEK
   27                           ; * SOFTWARE RELEASES MADE TO RECEIVER'S
                                 SPECIFICATION OR TO CONFORM TO A PARTICULAR
   28                           ; * STANDARD OR OPEN FORUM. RECEIVER'S SOLE
                                 AND EXCLUSIVE REMEDY AND MEDIATEK'S ENTIRE
                                 AND
   29                           ; * CUMULATIVE LIABILITY WITH RESPECT TO
                                 MEDIATEK SOFTWARE RELEASED HEREUNDER WILL
                                 BE,
   30                           ; * AT MEDIATEK'S OPTION, TO REVISE OR REPLACE
                                 MEDIATEK SOFTWARE AT ISSUE,
   31                           ; * OR REFUND ANY SOFTWARE LICENSE FEES OR
                                 SERVICE CHARGE PAID BY RECEIVER TO
   32                           ; * MEDIATEK FOR SUCH MEDIATEK SOFTWARE AT
                                 ISSUE.
   33                           ; */
   34                           
   35                                   MODULE  ?cstartup
   36                           
   37                                   SECTION CSTACK:DATA:NOROOT(3)
   38                           
   39                                   SECTION .intvec:CODE:ROOT(2)
   40                           
   41                                   EXTERN  __iar_program_start
   42                                   EXTERN  CachePreInit
   43                                   EXTERN  __iar_init_core
   44                                   EXTERN  __iar_init_vfp
   45                                   EXTERN  __cmain
   46                                   EXTERN  SystemInit
   47                                   PUBLIC  __vector_table
   48                                   PUBLIC  __isr_vector
   49                           
   50                           __iar_init$$done:               ; The vector
                                 table is not needed
   51                                                           ; until after
                                 copy initialization is done
   52                           
   53                                   DATA
   54                           __vector_table
   55                           __isr_vector
   56                           
   57    00000000 ........              DCD     SFE(CSTACK)                ;
  Top of Stack
   58    00000004 ........              DCD     Reset_Handler              ;
  Reset Handler
   59    00000008 ........              DCD     NMI_Handler                ;
  NMI Handler
   60    0000000C ........              DCD     HardFault_Handler          ;
  Hard Fault Handler
   61    00000010 ........              DCD     MemManage_Handler          ;
  MPU Fault Handler
   62    00000014 ........              DCD     BusFault_Handler           ;
  Bus Fault Handler
   63    00000018 ........              DCD     UsageFault_Handler         ;
  Usage Fault Handler
   64    0000001C 00000000              DCD     0                          ;
  Reserved
   65    00000020 00000000              DCD     0                          ;
  Reserved
   66    00000024 00000000              DCD     0                          ;
  Reserved
   67    00000028 00000000              DCD     0                          ;
  Reserved
   68    0000002C ........              DCD     SvcCall_Main                ;
  SVCall Handler
   69    00000030 ........              DCD     DebugMon_Handler           ;
  Debug Monitor Handler
   70    00000034 00000000              DCD     0                          ;
  Reserved
   71    00000038 ........              DCD     PendSV_Main             ;
                                                                         PendSV
                                                                         Handle
                                                                        r
   72    0000003C ........              DCD     SysTick_Main            ;
                                                                         SysTic
                                                                        k
                                                                         Handle
                                                                        r
   73                           
   74                                   ; External Interrupts
   75    00000040 ........              DCD     isrC_main        ;16: 
                                                                  UART1
   76    00000044 ........              DCD     isrC_main        ;17: 
                                                                  DMA
   77    00000048 ........              DCD     isrC_main        ;18: 
                                                                  HIF
   78    0000004C ........              DCD     isrC_main        ;19: 
                                                                  I2C1
   79    00000050 ........              DCD     isrC_main        ;20: 
                                                                  I2C2
   80    00000054 ........              DCD     isrC_main        ;21: 
                                                                  UART2
   81    00000058 ........              DCD     isrC_main        ;22: 
                                                                  MTK_CRYPTO
   82    0000005C ........              DCD     isrC_main        ;23: 
                                                                  SF
   83    00000060 ........              DCD     isrC_main        ;24: 
                                                                  EINT
   84    00000064 ........              DCD     isrC_main        ;25: 
                                                                  BTIF
   85    00000068 ........              DCD     isrC_main        ;26: 
                                                                  WDT
   86    0000006C ........              DCD     isrC_main        ;27: 
                                                                  reserved
   87    00000070 ........              DCD     isrC_main        ;28: 
                                                                  SPI_SLAVE
   88    00000074 ........              DCD     isrC_main        ;29: 
                                                                  WDT_N9
   89    00000078 ........              DCD     isrC_main        ;30: 
                                                                  ADC
   90    0000007C ........              DCD     isrC_main        ;31: 
                                                                  IRDA_TX
   91    00000080 ........              DCD     isrC_main        ;32: 
                                                                  IRDA_RX
   92    00000084 ........              DCD     isrC_main        ;33: 
                                                                  USB_VBUS_ON
   93    00000088 ........              DCD     isrC_main        ;34: 
                                                                  USB_VBUS_OFF
   94    0000008C ........              DCD     isrC_main        ;35: 
                                                                  timer_hit
   95    00000090 ........              DCD     isrC_main        ;36: 
                                                                  GPT3
   96    00000094 ........              DCD     isrC_main        ;37: 
                                                                  alarm_hit
   97    00000098 ........              DCD     isrC_main        ;38: 
                                                                  AUDIO
   98    0000009C ........              DCD     isrC_main        ;39: 
                                                                  n9_cm4_sw_irq
   99    000000A0 ........              DCD     isrC_main        ;40: 
                                                                  GPT4
  100    000000A4 ........              DCD     isrC_main        ;41: 
                                                                  adc_comp_irq
  101    000000A8 ........              DCD     isrC_main        ;42: 
                                                                  reserved
  102    000000AC ........              DCD     isrC_main        ;43: 
                                                                  SPIM
  103    000000B0 ........              DCD     isrC_main        ;44: 
                                                                  USB
  104    000000B4 ........              DCD     isrC_main        ;45: 
                                                                  UDMA
  105    000000B8 ........              DCD     isrC_main        ;46: 
                                                                  TRNG
  106    000000BC ........              DCD     isrC_main        ;47: 
                                                                  reserved
  107    000000C0 ........              DCD     isrC_main        ;48: 
                                                                  configurable
  108    000000C4 ........              DCD     isrC_main        ;49: 
                                                                  configurable
  109    000000C8 ........              DCD     isrC_main        ;50: 
                                                                  configurable
  110    000000CC ........              DCD     isrC_main        ;51: 
                                                                  configurable
  111    000000D0 ........              DCD     isrC_main        ;52: 
                                                                  configurable
  112    000000D4 ........              DCD     isrC_main        ;53: 
                                                                  configurable
  113    000000D8 ........              DCD     isrC_main        ;54: 
                                                                  configurable
  114    000000DC ........              DCD     isrC_main        ;55: 
                                                                  configurable
  115    000000E0 ........              DCD     isrC_main        ;56: 
                                                                  configurable
  116    000000E4 ........              DCD     isrC_main        ;57: 
                                                                  configurable
  117    000000E8 ........              DCD     isrC_main        ;58: 
                                                                  configurable
  118    000000EC ........              DCD     isrC_main        ;59: 
                                                                  configurable
  119    000000F0 ........              DCD     isrC_main        ;60: 
                                                                  configurable
  120    000000F4 ........              DCD     isrC_main        ;61: 
                                                                  configurable
  121    000000F8 ........              DCD     isrC_main        ;62: 
                                                                  configurable
  122    000000FC ........              DCD     isrC_main        ;63: 
                                                                  configurable
  123    00000100 ........              DCD     isrC_main        ;64: 
                                                                  configurable
  124    00000104 ........              DCD     isrC_main        ;65: 
                                                                  configurable
  125    00000108 ........              DCD     isrC_main        ;66: 
                                                                  configurable
  126    0000010C ........              DCD     isrC_main        ;67: 
                                                                  configurable
  127    00000110 ........              DCD     isrC_main        ;68: 
                                                                  configurable
  128    00000114 ........              DCD     isrC_main        ;69: 
                                                                  configurable
  129    00000118 ........              DCD     isrC_main        ;70: 
                                                                  configurable
  130    0000011C ........              DCD     isrC_main        ;71: 
                                                                  configurable
  131    00000120 ........              DCD     isrC_main        ;72: 
                                                                  configurable
  132    00000124 ........              DCD     isrC_main        ;73: 
                                                                  configurable
  133    00000128 ........              DCD     isrC_main        ;74: 
                                                                  configurable
  134    0000012C ........              DCD     isrC_main        ;75: 
                                                                  configurable
  135    00000130 ........              DCD     isrC_main        ;76: 
                                                                  configurable
  136    00000134 ........              DCD     isrC_main        ;77: 
                                                                  configurable
  137    00000138 ........              DCD     isrC_main        ;78: 
                                                                  configurable
  138    0000013C ........              DCD     isrC_main        ;79: 
                                                                  configurable
  139    00000140 ........              DCD     isrC_main        ;80: 
                                                                  configurable
  140    00000144 ........              DCD     isrC_main        ;81: 
                                                                  configurable
  141    00000148 ........              DCD     isrC_main        ;82: 
                                                                  configurable
  142    0000014C ........              DCD     isrC_main        ;83: 
                                                                  configurable
  143    00000150 ........              DCD     isrC_main        ;84: 
                                                                  configurable
  144    00000154 ........              DCD     isrC_main        ;85: 
                                                                  configurable
  145    00000158 ........              DCD     isrC_main        ;86: 
                                                                  configurable
  146    0000015C ........              DCD     isrC_main        ;87: 
                                                                  configurable
  147    00000160 ........              DCD     isrC_main        ;88: 
                                                                  configurable
  148    00000164 ........              DCD     isrC_main        ;89: 
                                                                  configurable
  149    00000168 ........              DCD     isrC_main        ;90: 
                                                                  configurable
  150    0000016C ........              DCD     isrC_main        ;91: 
                                                                  configurable
  151    00000170 ........              DCD     isrC_main        ;92: 
                                                                  configurable
  152    00000174 ........              DCD     isrC_main        ;93: 
                                                                  configurable
  153    00000178 ........              DCD     isrC_main        ;94: 
                                                                  configurable
  154    0000017C ........              DCD     isrC_main        ;95: 
                                                                  configurable
  155    00000180 ........              DCD     isrC_main        ;96: 
                                                                  configurable
  156    00000184 ........              DCD     isrC_main        ;97: 
                                                                  configurable
  157    00000188 ........              DCD     isrC_main        ;98: 
                                                                  configurable
  158    0000018C ........              DCD     isrC_main        ;99: 
                                                                  configurable
  159    00000190 ........              DCD     isrC_main        ;100:
                                                                  configurable
  160    00000194 ........              DCD     isrC_main        ;101:
                                                                  configurable
  161    00000198 ........              DCD     isrC_main        ;102:
                                                                  configurable
  162    0000019C ........              DCD     isrC_main        ;103:
                                                                  configurable
  163    000001A0 ........              DCD     isrC_main        ;104:
                                                                  configurable
  164    000001A4 ........              DCD     isrC_main        ;105:
                                                                  configurable
  165    000001A8 ........              DCD     isrC_main        ;106:
                                                                  configurable
  166    000001AC ........              DCD     isrC_main        ;107:
                                                                  configurable
  167    000001B0 ........              DCD     isrC_main        ;108:
                                                                  configurable
  168    000001B4 ........              DCD     isrC_main        ;109:
                                                                  configurable
  169    000001B8 ........              DCD     isrC_main        ;110:
                                                                  configurable
  170    000001BC ........              DCD     isrC_main        ;111:
                                                                  configurable
  171                           
  172                                   THUMB
  173                                   PUBWEAK Reset_Handler
  174                                   SECTION .reset_handler:CODE:REORDER:RO
                                OT(2)
  175                           Reset_Handler
  176                           
  177    00000000 DFF82CD0              LDR     SP, =SFE(CSTACK)
  178                           
  179    00000004 72B6                  CPSID   I
  180                           
  181                                   ;preinit cache to accelerate region
                                 init progress
  182    00000006 0B48                  LDR     R0, =CachePreInit
  183    00000008 8047                  BLX     R0
  184                           
  185    0000000A 0B48                  LDR     R0, =SystemInit
  186    0000000C 8047                  BLX     R0
  187                           
  188                            ; copy exeption table
  189    0000000E 0B49                  LDR      r1, =SFB(.intvec)             
                                                      ; Load ROM start
                                                  address
  190    00000010 0B48                  LDR      r0, =0x20000000               
                                                      ; Load RAM start
                                                  address
  191    00000012 0C4A                  LDR      r2, =0x200003FF               
                                                      ; Load RAM end address   
                                                    
  192    00000014 00F002F8              BL       data_copy                     
                                                       ; copy data        
                                                   
  193                                   
  194    00000018 0B48                  LDR     R0, =__iar_program_start
  195    0000001A 0047                  BX      R0
  196                             
  197                           ; ----- Data-copy Routine -----
  198                           ;| r0- RAM base (dst.) addr.  |
  199                           ;| r1- ROM base (src.) addr.  |
  200                           ;| r2- RAM end (dest.) addr.  |
  201                           ; -----------------------------
  202                           data_copy
  203    0000001C 1EB5              STMFD    SP!,{r1-r4,lr}               ;
                                              save return address to stack
  204    0000001E 03E0              B        copy_1_cmp                   ;
                                               jump to compare
  205                           copy_1
  206    00000020 51F8043B          LDR      r3,[r1],#4                   ;
                                              load temp with data, increment
                                              address
  207    00000024 40F8043B          STR      r3,[r0],#4                   ;
                                              store data, increment address
  208                           copy_1_cmp
  209    00000028 9042              CMP      r0, r2                       ;
                                              check end address
  210    0000002A F9DB              BLT      copy_1                       ; ...
                                               copy more
  211    0000002C 1EBD              LDMFD    SP!,{r1-r4,pc}               ;
                                              return              
  212                           
  213                                           
  214                                   PUBWEAK SvcCall_Main
  214.1                                  TABLE
  214.2  00000030 ........              Reference on line 177
  214.3  00000034 ........              Reference on line 182
  214.4  00000038 ........              Reference on line 185
  214.5  0000003C ........              Reference on line 189
  214.6  00000040 00000020              Reference on line 190
  214.7  00000044 FF030020              Reference on line 191
  214.8  00000048 ........              Reference on line 194
  215                                   SECTION .ramTEXT:CODE:REORDER:ROOT(2)
  216                           SvcCall_Main
  217                                           IMPORT  Flash_ReturnReady
  218    00000000 72B6                          CPSID   I       
  219    00000002 00B5                          PUSH    {LR}
  220    00000004 0348                          LDR     R0, =Flash_ReturnReady
  221    00000006 8047                          BLX     R0
  222    00000008 5DF804EB                      POP     {LR}
  223    0000000C 62B6                          CPSIE   I
  224    0000000E 0248                          LDR     R0, =SVC_Handler
  225    00000010 0047                          BX      R0
  226                           
  227                           
  228                                   PUBWEAK PendSV_Main
  228.1                                  TABLE
  228.2  00000014 ........              Reference on line 220
  228.3  00000018 ........              Reference on line 224
  229                                   SECTION .ramTEXT:CODE:REORDER:ROOT(2)
  230                           PendSV_Main
  231                                           IMPORT  Flash_ReturnReady
  232    00000000 72B6                          CPSID   I
  233    00000002 00B5                          PUSH    {LR}
  234    00000004 0348                          LDR     R0, =Flash_ReturnReady
  235    00000006 8047                          BLX     R0
  236    00000008 5DF804EB                      POP     {LR}
  237    0000000C 62B6                          CPSIE   I
  238    0000000E 0248                          LDR     R0, =PendSV_Handler
  239    00000010 0047                          BX      R0           
  240                           
  241                                   PUBWEAK SysTick_Main
  241.1                                  TABLE
  241.2  00000014 ........              Reference on line 234
  241.3  00000018 ........              Reference on line 238
  242                                   SECTION .ramTEXT:CODE:REORDER:ROOT(2)
  243                           SysTick_Main
  244                                           IMPORT  Flash_ReturnReady
  245    00000000 72B6                          CPSID   I
  246    00000002 00B5                          PUSH    {LR}
  247    00000004 0348                          LDR     R0, =Flash_ReturnReady
  248    00000006 8047                          BLX     R0
  249    00000008 62B6                          CPSIE   I
  250    0000000A 0348                          LDR     R0, =SysTick_Handler
  251    0000000C 8047                          BLX     R0
  252    0000000E 5DF804EB                      POP     {LR}
  253    00000012 7047                          BX      LR
  254                                           
  255                                   PUBWEAK isrC_main
  255.1                                  TABLE
  255.2  00000014 ........              Reference on line 247
  255.3  00000018 ........              Reference on line 250
  256                                   SECTION .ramTEXT:CODE:REORDER:NOROOT(2
                                )
  257                           isrC_main
  258    00000000 FEE7                 B       .
  259                           
  260                           
  261                                   PUBWEAK NMI_Handler
  262                                   SECTION .text:CODE:REORDER:NOROOT(1)
  263                           NMI_Handler
  264    00000000 ........              B NMI_Handler
  265                           
  266                                   PUBWEAK HardFault_Handler
  267                                   SECTION .text:CODE:REORDER:NOROOT(1)
  268                           HardFault_Handler
  269    00000000 ........              B HardFault_Handler
  270                           
  271                                   PUBWEAK MemManage_Handler
  272                                   SECTION .text:CODE:REORDER:NOROOT(1)
  273                           MemManage_Handler
  274    00000000 ........              B MemManage_Handler
  275                           
  276                                   PUBWEAK BusFault_Handler
  277                                   SECTION .text:CODE:REORDER:NOROOT(1)
  278                           BusFault_Handler
  279    00000000 ........              B BusFault_Handler
  280                           
  281                                   PUBWEAK UsageFault_Handler
  282                                   SECTION .text:CODE:REORDER:NOROOT(1)
  283                           UsageFault_Handler
  284    00000000 ........              B UsageFault_Handler
  285                           
  286                                   PUBWEAK SVC_Handler
  287                                   SECTION .text:CODE:REORDER:NOROOT(1)
  288                           SVC_Handler
  289    00000000 ........              B SVC_Handler
  290                           
  291                                   PUBWEAK DebugMon_Handler
  292                                   SECTION .text:CODE:REORDER:NOROOT(1)
  293                           DebugMon_Handler
  294    00000000 ........              B DebugMon_Handler
  295                           
  296                                   PUBWEAK PendSV_Handler
  297                                   SECTION .text:CODE:REORDER:NOROOT(1)
  298                           PendSV_Handler
  299    00000000 ........              B PendSV_Handler
  300                           
  301                                   PUBWEAK SysTick_Handler
  302                                   SECTION .text:CODE:REORDER:NOROOT(1)
  303                           SysTick_Handler
  304    00000000 ........              B SysTick_Handler
  305                           
  306                                   PUBWEAK Default_IRQ_Handler
  307                                   SECTION .text:CODE:REORDER:NOROOT(2)
  308                           Default_IRQ_Handler
  309    00000000 FEE7                  B       .
  310                           
  311                           
  312                           
  313                                   END
##############################
#           CRC:0            #
#        Errors:   0         #
#        Warnings: 0         #
#         Bytes: 648         #
##############################



